@keyframes enterButtonBlink {
	0% {
		opacity: 1;
	}

	50% {
		opacity: 0.3;
	}

	100% {
		opacity: 1;
	}
}

body {

	&.is-popup {
		.header__burger {
			opacity: 0;
			transition: opacity .1s;
			pointer-events: none;
		}
	}

	&[data-state="static"] {
		.intro,
		.header__nav,
		.section,
		.popup__close {
			display: none;
		}
	}
	
	/*
	&[data-state="waitPreloader"] {
		overflow: hidden;

		.wrapper {
			opacity: 0;
			visibility: hidden;
		}

		.header {
			&__logo,
			&__burger {
				opacity: 0;
			}
		}

		.nav {
			&__link {
				.word {
					opacity: 0;
					transform: translateY(100%);
				}
			}

			&__icon {
				opacity: 0;
				transform: translateY(100%);
			}
		}

		.intro__button {
			visibility: hidden;
			opacity: 0;
			transition: visibility 0s .3s ease, opacity .3s ease, background-color .3s ease;
		}
	}
	*/


	/*&[data-state="waitPreloader"],*/
	&[data-state="preloader"] {
		.intro {
			&__controls {
				visibility: visible;
				opacity: 1;
				transition: opacity .3s ease;
			}

			&__button .svg-icon--border {
				animation: enterButtonBlink 3.0s infinite forwards;
			}

				

			/*TODO: after loading animation remove styles from here*/
			/*&__button {
				animation: pointerEvents 0s 2.6s forwards;

				.svg-icon--border rect {
					stroke-dasharray: 754 0;
					transition: stroke-dasharray 2s .6s;
				}

				span {
					opacity: 1;
					transition: opacity 2s .6s;
				}
			}

			&__link {
				visibility: visible;
				opacity: 1;
				transition-delay: 0s, 2.6s;
			}*/
			/* to here */
		}
	}

	&[data-state="prestart"] {
		overflow: hidden;

		.wrapper {
			opacity: 0;
			visibility: hidden;
		}

		.header {
			&__logo,
			&__burger {
				opacity: 0;
			}
		}

		.nav {
			&__link {
				.word {
					opacity: 0;
					transform: translateY(100%);
				}
			}

			&__icon {
				opacity: 0;
				transform: translateY(100%);
			}
		}

		.intro {
			&__controls {
				visibility: visible;
				opacity: 1;
				transition: opacity .3s ease;
			}

			&__button {
				pointer-events: all;

				span {
					&:nth-of-type(1) {
						opacity: 0;
						
						i {
							// animation: none;
						}
					}

					&:nth-of-type(2) {
						opacity: 1;
					}
				}
			}

			&__link {
				visibility: visible;
				opacity: 1;
				transition-delay: 0s, 0.3s;
			}
		}
	}

	&[data-state="preloader"] {
		overflow: hidden;
		
		.wrapper {
			opacity: 0;
			visibility: hidden;
		}

		.header {
			&__logo,
			&__burger {
				opacity: 0;
			}
		}

		.nav {
			&__link {
				.word {
					opacity: 0;
					transform: translateY(100%);
				}
			}

			&__icon {
				opacity: 0;
				transform: translateY(100%);
			}
		}

		/*.intro {
			visibility: hidden;
			opacity: 0;
			transition: visibility 0s .3s ease, opacity .3s ease;

			&__video {
				visibility: visible;
				opacity: 1;
				transition: opacity .3s ease;
			}
		}*/
	}

	&[data-state="showIntro"] {
		.intro {
			display: none;
		}
		
		.header {
			&__logo,
			&__burger {
				opacity: 0;
			}
		}

		.nav {
			&__link {
				.word {
					opacity: 0;
					transform: translateY(100%);
				}
			}

			&__icon {
				opacity: 0;
				// transform: translateY(100%);
			}
		}

		.section {
			&--intro {
				pointer-events: all;

				.section {
					&__box {
						transform: translateY(0);
						transition-duration: 0s;
						pointer-events: all;
					}

					&__content {
						.word {
					        transform: translateY(0%);
					        opacity: 1;
					        /*transition: transform 0s, opacity 0s;*/
					    }
					}

					&__icon {
						transform: translateY(0);
				        opacity: 1;
				        /*transition: transform 0s, opacity 0s;*/
					}
				}
			}
		}
	}

	&[data-state="about0"] {
		.intro {
			display: none;
		}

		.nav {
			&__link {
				&[data-link="about"] {
					&::after {
						width: 100%;
						background-color: $c2;
					}
				}

				&--icon {
					.svg-icon__circle {
		                fill: $c2;
		            }
				}
			}
		}

		.section {
			&--intro {
				.section {
					&__box {
						// transform: translateY(-100%);
					}

					&__content {
						.word {
					        transform: translateY(-100%);
					        opacity: 0;
					    }
					}

					&__icon {
						transform: translateY(-100%);
				        opacity: 0;
					}
				}
			}

			&--about {
				pointer-events: all;

				.section {
					&__box {
						&--0 {
							transform: translateY(0);
							pointer-events: all;

							.section {
								&__content {
									.word {
								        transform: translateY(0);
								        opacity: 1;
								        transition-delay: calc((var(--word-index) * 0.1s) + 1s);
								    }
								}

								&__text {
							    	.word {
								        transition-delay: calc((var(--word-index) * 0.05s) + 1s);
								    }
								}
							}
						}
					}
				}
			}
		}
	}

	&[data-state="about1"] {
		.intro {
			display: none;
		}

		.nav {
			&__link {
				&[data-link="about"] {
					&::after {
						width: 100%;
						background-color: $c3;
					}
				}

				&--icon {
					.svg-icon__circle {
		                fill: $c3;
		            }
				}
			}
		}

		.section {
			&--about {
				pointer-events: all;

				.section {
					&__box {
						&--0 {
							// transform: translateY(-100%);

							.section__content {
								.word {
							        transform: translateY(-100%);
							        opacity: 0;
							    }
							}
						}

						&--1 {
							transform: translateY(0);
							pointer-events: all;

							.section {
								&__content {
									.word {
								        transform: translateY(0);
								        opacity: 1;
								        transition-delay: calc((var(--word-index) * 0.1s) + 1s);
								    }
								}

								&__text {
							    	.word {
								        transition-delay: calc((var(--word-index) * 0.05s) + 1s);
								    }
								}
							}
						}
					}
				}
			}
		}
	}

	&[data-state="about2"] {
		.intro {
			display: none;
		}

		.nav {
			&__link {
				&[data-link="about"] {
					&::after {
						width: 100%;
						background-color: $c4;
					}
				}

				&--icon {
					.svg-icon__circle {
		                fill: $c4;
		            }
				}
			}
		}

		.section {
			&--about {
				pointer-events: all;

				.section {
					&__box {
						&--1 {
							// transform: translateY(-100%);

							.section__content {
								.word {
							        transform: translateY(-100%);
							        opacity: 0;
							    }
							}
						}

						&--2 {
							transform: translateY(0);
							pointer-events: all;

							.section {
								&__content {
									.word {
								        transform: translateY(0);
								        opacity: 1;
								        transition-delay: calc((var(--word-index) * 0.1s) + 1s);
								    }
								}

								&__text {
							    	.word {
								        transition-delay: calc((var(--word-index) * 0.05s) + 1s);
								    }
								}
							}

							.textline {
		                        transform: translate(-50%, 0);
		                        opacity: 1;
		                        transition-delay: 1s;
		                    }
						}
					}
				}
			}
		}
	}

	&[data-state="teaser"] {
		.intro {
			display: none;
		}

		.nav {
			&__link {
				&--icon {
					.nav {
		                &__icon {
		                    &::before,
		                    &::after {
		                        background-color: $c5;
		                    }
		                }
		            }
					.svg-icon {
						&__eye,
						&__circle {
			                fill: $c5;
			            }
					}
				}
			}
		}

		.section {
			&--about {
				.section {
					&__box {
						&--2 {
							// transform: translateY(-100%);

							.section__content {
								.word {
							        transform: translateY(-100%);
							        opacity: 0;
							    }
							}

						    .textline {
		                        transform: translate(-50%, -100px);
		                        opacity: 0;
		                    }
						}
					}
				}
			}

			&--teaser {
				pointer-events: all;

				.section {
					&__box {
						transform: translateY(0);
						pointer-events: all;
					}

					&__content {
						.word {
					        transform: translateY(0);
					        opacity: 1;
					        transition-delay: calc((var(--word-index) * 0.1s) + 1s);
					    }
					}

					&__text {
				    	.word {
					        transition-delay: calc((var(--word-index) * 0.05s) + 1s);
					    }
					}
				}

				.button {
					&--teaser {
						.word {
							transform: translateY(0);
					        opacity: 1;
					        transition-delay: calc(((var(--word-index) + 1) * 0.1s) + 1s);
						}

						.svg-icon {
							&--arrow {
								transform: translateY(0);
					        	opacity: 1;
					        	transition-delay: 1s;
							}

							&--border {
								rect {
									transition-delay: 1s;
									stroke-dasharray: 1354, 1354;
								}
							}
						}
					}
				}
			}
		}
	}

	&[data-state="demo0"] {
		.intro {
			display: none;
		}

		.nav {
			&__link {
				&[data-link="demo"] {
					&::after {
						background-color: $c6;
					}
				}

				&--icon {
					.svg-icon {
						&__circle {
			                fill: $c6;
			            }
					}
				}
			}
		}

		.section {
			&--teaser {
				.section {
					&__box {
						// transform: translateY(-100%);
					}

					&__content {
						.word {
					        transform: translateY(-100%);
					        opacity: 0;
					    }
					}
				}
			}

			&--demo {
				pointer-events: all;

				.section {
					&__box {
						&--0 {
							transform: translateY(0);
							pointer-events: all;

							.section {
								&__content {
									.word {
								        transform: translateY(0);
								        opacity: 1;
								        transition-delay: calc((var(--word-index) * 0.1s) + 1s);
								    }
								}

								&__text {
							    	.word {
								        transition-delay: calc((var(--word-index) * 0.05s) + 1s);
								    }
								}
							}
						}
					}
				}
			}
		}

		.button {
			&--discord {
				.word {
					transform: translateY(0);
			        opacity: 1;
			        transition-delay: calc(((var(--word-index) + 1) * 0.1s) + 1s);
				}

				.svg-icon {
					&--icon {
						transform: translateY(0);
			        	opacity: 1;
			        	transition-delay: 1s;
					}

					&--border {
						rect {
							transition-delay: 1s;
							stroke-dasharray: 1354, 1354;
						}
					}
				}
			}
		}
	}

	&[data-state="demo1"] {
		.intro {
			display: none;
		}

		.nav {
			&__link {
				&[data-link="demo"] {
					&::after {
						background-color: $c6;
					}
				}

				&--icon {
					.svg-icon__circle {
		                fill: $c6;
		            }
				}
			}
		}

		.section {
			&--demo {
				pointer-events: all;

				.section {
					&__box {
						&--0 {
							// transform: translateY(-100%);

							.section__content {
								.word {
							        transform: translateY(-100%);
							        opacity: 0;
							    }
							}
						}

						&--1 {
							transform: translateY(0);
							pointer-events: all;

							.section {
								&__image {
									transform: translateY(0);
							        opacity: 1;
							        transition-delay: 1s;

							        &::before {
							        	transform: translate(-50%, -50%) scale(1);
							        	transition-delay: 1.2s;
							        }
								}

								&__title {
									transform: translateY(0);
							        opacity: 1;
							        transition-delay: 1.1s
								}

								&__ar {
									transform: translateY(0);
							        opacity: 1;
							        transition-delay: 1s	
								}

								&__form {
									transform: translateY(0);
							        opacity: 1;
							        transition-delay: 1.2s
								}
							}
						}
					}
				}
			}
		}

		.button {
			&--discord2 {
				.word {
					transform: translateY(0);
			        opacity: 1;
			        transition-delay: calc(((var(--word-index) + 1) * 0.1s) + 1s);
				}

				.svg-icon {
					&--icon {
						transform: translateY(0);
			        	opacity: 1;
			        	transition-delay: 1s;
					}

					&--border {
						rect {
							transition-delay: 1s;
							stroke-dasharray: 1354, 1354;
						}
					}
				}
			}
		}
	}

	&[data-state="news"] {
		.intro {
			display: none;
		}

		.nav {
			&__link {
				&[data-link="news"] {
					&::after {
						background-color: $c7;
					}
				}

				&--icon {
					.svg-icon__circle {
		                fill: $c7;
		            }
				}
			}
		}

		.section {
			&--demo {
				.section {
					&__box {
						&--1 {
							// transform: translateY(-100%);

							.section {
								&__image {
									transform: translateY(-100%);
							        opacity: 0;
								}

								&__form {
									transform: translateY(-100%);
							        opacity: 0;
								}
							}
						}
					}
				}
			}

			&--news {
				pointer-events: all;

				.section {
					&__box {
						transform: translateY(0);
						pointer-events: all;
					}

					&__title {
						transform: translateY(0);
				        opacity: 1;
				        transition-delay: 1s;
					}
				}

				.news-card {
					opacity: 1;
					transform: translateY(0);

					&__image {
						&::before {
							animation: newsBorderAnimation1 .6s linear forwards;
							animation-delay: calc((var(--slide-index) * 0.2s) + 1s);
						}

						&::after {
							animation: newsBorderAnimation2 .6s linear forwards;
							animation-delay: calc(((var(--slide-index) * 0.2s) + 0.6s) + 1s);
						}
					}

					&__line {
						&--inner {
							animation: newsConnectorHeight .3s linear forwards;
							animation-delay: calc(((var(--slide-index) + 1) * 0.2s) + .3s + 1s);
						}

						&--outer {
							animation: newsConnectorHeight .3s linear forwards;
							animation-delay: calc(((var(--slide-index) + 1) * 0.2s) + 1.2s + 1s);
						}
					}

					&__main {
						.word {
					        transform: translateY(0);
					        opacity: 1;
					        transition-delay: calc((var(--slide-index) * 0.2s) + (var(--word-index) * 0.1s) + 1s);
					    }
					}

					&__text {
				    	.word {
					        transition-delay: calc((var(--slide-index) * 0.2s) + (var(--word-index) * 0.05s) + 1s);
					    }
					}
				}
			}
		}
	}

	&[data-route="ims"] {
		.header__nav,
		.header__burger {
			display: none;
		}

		.main {
			flex-grow: 1;
			display: flex;
			flex-flow: column nowrap;
		}

		&[data-state^="presense"] {
			.ims-nav {
				&__item {
					&[data-state="presense"] {
						color: $c1;

						&::before,
						&::after {
							opacity: 1;
						}

						.svg-icon--check {
							opacity: 0;
						}						

						& ~ .ims-nav__item .svg-icon--check {
							opacity: 0;
						}
					}
				}
			}
		}

		&[data-state="presense0"]{
			.ims {
				&__block {
					&--presense0 {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state="presense1"]{
			.ims {
				&__block {
					&--presense1 {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state="presense2"]{
			.ims {
				&__block {
					&--presense2 {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state^="register"] {
			.ims-nav {
				&__item {
					&[data-state="register"] {
						color: $c1;

						&::before,
						&::after {
							opacity: 1;
						}

						.svg-icon--check {
							opacity: 0;
						}						

						& ~ .ims-nav__item .svg-icon--check {
							opacity: 0;
						}
					}
				}
			}
		}

		&[data-state="register"]{
			.ims {
				&__block {
					&--register {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state^="claim"] {
			.ims-nav {
				&__item {
					&[data-state="claim"] {
						color: $c1;

						&::before,
						&::after {
							opacity: 1;
						}

						.svg-icon--check {
							opacity: 0;
						}						

						& ~ .ims-nav__item .svg-icon--check {
							opacity: 0;
						}
					}
				}
			}
		}

		&[data-state="claim0"]{
			.ims {
				&__block {
					&--claim0 {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state="claim1"]{
			.ims {
				&__block {
					&--claim1 {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state="claim2"]{
			.ims {
				&__block {
					&--claim2 {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state="claim3"]{
			.ims {
				&__block {
					&--claim3 {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state="claim4"]{
			.ims {
				&__block {
					&--claim4 {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state="claim5"]{
			.ims {
				&__block {
					&--claim5 {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state="claim6"]{
			.ims {
				&__block {
					&--claim6 {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}

		&[data-state="poap"]{
			.ims-nav {
				.ims-nav {
					&__item {
						&[data-state="poap"] {
							color: $c1;

							&::before,
							&::after {
								opacity: 1;
							}

							.svg-icon--check {
								opacity: 0;
							}						

							& ~ .ims-nav__item .svg-icon--check {
								opacity: 0;
							}
						}
					}
				}
			}

			.ims {
				&__block {
					&--poap {
						opacity: 1;
						pointer-events: auto;
						position: relative;
						height: auto;
						overflow: visible;
						transition: opacity .6s;
					}
				}
			}
		}
	}
}

.is-debug {
    .wrapper {
        pointer-events: none;
    }
}

@media $small {
	body {
		&.is-nav-open {
			.header {
				&__nav {
					transform: translateY(100%);
				}
				
				&__burger {
					span {
						margin-top: 0;
						transition: margin $duration, transform $duration $duration;
						
						&:first-child {
							transform: rotate(10deg);
						}

						&:last-child {
							transform: rotate(-10deg);
						}
					}
				}
			}
		}

		&[data-route="ims"] {
			&[data-state^="presense"] {
				.ims-nav {
					&__item {
						&[data-state="presense"] {
							.svg-icon {
								&--circle {
									opacity: 1;
								}

								&--check {
									opacity: 0;
								}		
							}				

							& ~ .ims-nav__item .svg-icon {
								&--circle {
									opacity: 1;
								}

								&--check {
									opacity: 0;
								}
							}
						}
					}
				}
			}

			&[data-state^="register"] {
				.ims-nav {
					&__item {
						&[data-state="register"] {
							.svg-icon {
								&--circle {
									opacity: 1;
								}

								&--check {
									opacity: 0;
								}		
							}				

							& ~ .ims-nav__item .svg-icon {
								&--circle {
									opacity: 1;
								}
																
								&--check {
									opacity: 0;
								}
							}
						}
					}
				}
			}

			&[data-state^="claim"] {
				.ims-nav {
					&__item {
						&[data-state="claim"] {
							.svg-icon {
								&--circle {
									opacity: 1;
								}

								&--check {
									opacity: 0;
								}		
							}				

							& ~ .ims-nav__item .svg-icon {
								&--circle {
									opacity: 1;
								}
																
								&--check {
									opacity: 0;
								}
							}
						}
					}
				}
			}

			&[data-state^="poap"] {
				.ims-nav {
					&__item {
						&[data-state="poap"] {
							.svg-icon {
								&--circle {
									opacity: 1;
								}

								&--check {
									opacity: 0;
								}		
							}				

							& ~ .ims-nav__item .svg-icon {
								&--circle {
									opacity: 1;
								}
																
								&--check {
									opacity: 0;
								}
							}
						}
					}
				}
			}
		}
	}
}